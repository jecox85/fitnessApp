<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bodyweight Fitness: Workout Page</title>
    <link rel="stylesheet" href="../css/materialize.min.css">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/css/app.css">
    <link rel="manifest" href="../manifest.json">
    <script type="text/javascript" src="../js/materialize.min.js"></script>
</head>

<!--Top bar area-->
<body class="grey lighten-4">
<nav class="blue darken-3">
    <div class="nav-wrapper container">
        <b><span style="font-size: 170%; ">Bodyweight Fitness</span></b>
        <span class="right grey-text text-darken-3">
                <i class="material-icons sidenav-trigger" data-target="side-menu">menu</i>
            </span>
    </div>
</nav>

<!--side navigation pop-out-->
<ul id="side-menu" class="sidenav side-menu">
    <li><a class="subheader">BODYWEIGHT FITNESS</a></li>
    <li><a href="/index.html" class="waves-effect">Home</a></li>
    <li><a href="/pages/workoutStart.html" class="logged-in waves-effect">Start Workout</a></li>
    <li><a href="/pages/archive.html" class="logged-in waves-effect">History</a></li>
    <li><a href="/pages/about.html" class="waves-effect">About</a></li>
    <li class="logged-in">
        <a href="#" class="waves-effect modal-trigger" data-target="modal-account">Account</a>
    </li>
    <li class="logged-in">
        <a href="#" class="waves-effect" id="logout">Logout</a>
    </li>
    <li class="logged-out">
        <a href="#" class="waves-effect modal-trigger" data-target="modal-login">Login</a>
    </li>
    <li class="logged-out">
        <a href="#" class="waves-effect modal-trigger" data-target="modal-signup">Sign Up</a>
    </li>
</ul>
<!-- Sign Up modal -->
<div id="modal-signup" class="modal">
    <div class="modal-content">
        <h4>Sign Up</h4>
        <form id="signup-form">
            <div class="input-field">
                <input type="email" id="signup-email" required>
                <label for="signup-email">Email Address</label>
            </div>
            <div class="input-field">
                <input type="password" id="signup-password" required>
                <label for="signup-password">Choose Password</label>
            </div>
            <button class="btn blue darken-3 z-depth-0">Sign Up</button>  

        </form>
    </div>
</div>
<!-- login modal -->
<div id="modal-login" class="modal">
    <div class="modal-content">
        <h4>Login</h4><br>
        <form id="login-form">
            <div class="input-field">
                <input type="email" id="login-email" required>
                <label for="login-email">Email Address</label>
            </div>
            <div class="input-field">
                <input type="password" id="login-password" required>
                <label for="login-password">Your password</label>
            </div>
            <button class="btn blue darken-3 z-depth-0">Login</button> 
        </form>
    </div>
</div>
<!-- Account modal -->
<div id="modal-account" class="modal">
    <div class="modal-content center-align">
        <h4>Account Details</h4><br>
        <div class="account-details"></div>
    </div>
</div>


<!-- Content -->
<div class="container">
    <h5 id="mySection" class="center-align">Warm-up</h5>
    <h6 id="myName" class="center-align">Shoulder Band Warmup</h6>
    <img id="myImg" class="responsive-img" src="/img/exercises/WarmUp/shoulderBandWarmup.gif" alt="GIF of exercise">
    <p id="myGeneralForm">
        <ul class ='browser-default'>
            <li>Use the GIF as a reference for the current stretch.</li>
        </ul>
    </p>
    <p id="myNotes"></p>
</div>


<div class="container center-align">
    <button onclick id="nextBtn" class="waves-effect waves-light btn blue darken-3">Next</button>
</div>

<script src="/js/ui.js" type="text/javascript"></script>
<script src="/js/app.js"></script>
<script type="module" src ='/js/auth.js'></script>
<script>

    let currentSession  = JSON.parse(sessionStorage.getItem("currentWorkout"));
    if(currentSession === null){
        currentSession = [...warmUps];
    }
    let myIterator = 0;
    document.querySelector('#nextBtn').addEventListener('click', function(){
        myIterator++;
        if(myIterator === (currentSession.length - 1)){
            document.querySelector('#nextBtn').innerText = 'Complete';
        }
        //go to completed page when workout is done
        if(myIterator >= (currentSession.length)){
            sessionStorage.setItem("currentWorkout", JSON.stringify(currentSession));
            window.location.href = "completed.html";
        }
        //populate page with next workout
        document.querySelector('#mySection').innerText = currentSession[myIterator].section;
        document.querySelector('#myName').innerText = currentSession[myIterator].name;
        document.querySelector('#myImg').src = currentSession[myIterator].imgLocation;
        document.querySelector('#myGeneralForm').innerHTML = currentSession[myIterator].generalForm;
        document.querySelector('#myNotes').innerHTML = currentSession[myIterator].notes;
    })
</script>



</body>

</html>